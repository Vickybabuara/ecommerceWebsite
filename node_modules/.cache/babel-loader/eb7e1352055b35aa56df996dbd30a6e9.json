{"ast":null,"code":"import { act } from \"react-dom/test-utils\";\nexport const CartReducer = (state, action) => {\n  const {\n    shoppingCart,\n    totalPrice,\n    qty\n  } = state;\n  let product;\n  let index;\n  let updatedPrice;\n  let updatedQty;\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      //console.log(\"add to cart\");\n      const check = shoppingCart.find(product => product.id === action.id);\n      if (check) {\n        return state;\n      } else {\n        product = action.product;\n        product['qty'] = 1;\n        updatedQty = qty + 1;\n        updatedPrice = totalPrice + product.price;\n        return {\n          shoppingCart: [product, ...shoppingCart],\n          totalPrice: updatedPrice,\n          qty: updatedQty\n        };\n      }\n      break;\n    case 'INC':\n      product = action.cart;\n      product.qty = product.qty + 1; //\n      updatedPrice = totalPrice + product.price;\n      updatedQty = qty + 1;\n      index = shoppingCart.findIndex(cart => cart.id === action.id);\n      shoppingCart[index] = product;\n      return {\n        shoppingCart: [...shoppingCart],\n        totalPrice: updatedPrice,\n        qty: updatedQty\n      };\n      break;\n    case 'DEC':\n      product = action.cart;\n      if (product.qty > 1) {\n        product.qty = product.qty - 1;\n        updatedPrice = totalPrice - product.price;\n        updatedQty = qty - 1;\n        index = shoppingCart.findIndex(cart => cart.id === action.id);\n        shoppingCart[index] = product;\n        return {\n          shoppingCart: [...shoppingCart],\n          totalPrice: updatedPrice,\n          qty: updatedQty\n        };\n      } else {\n        return state;\n      }\n      break;\n    case 'DELETE':\n      const filtered = shoppingCart.filter(product => product.id !== action.id);\n      product = action.cart;\n      updatedQty = qty - product.qty;\n      updatedPrice = totalPrice - product.price * product.qty;\n      return {\n        shoppingCart: [...filtered],\n        totalPrice: updatedPrice,\n        qty: updatedQty\n      };\n      break;\n    case 'empty':\n      return {\n        shoppingCart: [],\n        totalPrice: 0,\n        qty: 0\n      };\n      break;\n    default:\n      return state;\n  }\n};\n_c = CartReducer;\nvar _c;\n$RefreshReg$(_c, \"CartReducer\");","map":{"version":3,"names":["act","CartReducer","state","action","shoppingCart","totalPrice","qty","product","index","updatedPrice","updatedQty","type","check","find","id","price","cart","findIndex","filtered","filter"],"sources":["E:/Project/ecommerce-react-website/src/Global/CartReducer.js"],"sourcesContent":["import { act } from \"react-dom/test-utils\";\n\nexport const CartReducer=(state, action)=>{\n const {shoppingCart, totalPrice, qty} = state;\n let product;\n let index;\n let updatedPrice;\n let updatedQty;\n\nswitch(action.type)\n{\ncase 'ADD_TO_CART':\n        //console.log(\"add to cart\");\n        const check= shoppingCart.find(product =>product.id === action.id);\n        if(check){\n            return state;\n        } \n        else\n        {\n              product = action.product;\n              product['qty']=1;\n              updatedQty= qty+1;\n              updatedPrice= totalPrice+product.price;\n              return{shoppingCart:[product, ...shoppingCart], totalPrice: updatedPrice, qty: updatedQty}\n        }\nbreak;\ncase 'INC':\n      product=action.cart;\n      product.qty= product.qty + 1; //\n      updatedPrice= totalPrice + product.price;\n      updatedQty= qty+ 1;\n      index=shoppingCart.findIndex(cart=> cart.id===action.id);\n      shoppingCart[index]=product;\n      return{shoppingCart:[...shoppingCart], totalPrice:updatedPrice, qty:updatedQty}\n      break;\n\ncase 'DEC':\n        product=action.cart;\n        if(product.qty > 1){\n            product.qty= product.qty - 1;\n            updatedPrice= totalPrice - product.price;\n            updatedQty= qty- 1;\n            index= shoppingCart.findIndex(cart=> cart.id===action.id);\n            shoppingCart[index]=product;\n         return{shoppingCart:[...shoppingCart], totalPrice:updatedPrice, qty:updatedQty}\n        }\n        else{return state}\n        break;\n\ncase 'DELETE':\n        const filtered = shoppingCart.filter(product=> product.id!==action.id)\n        product= action.cart;\n        updatedQty= qty-product.qty;\n        updatedPrice= totalPrice- product.price* product.qty;\n        return{shoppingCart:[...filtered], totalPrice:updatedPrice, qty:updatedQty}\n        break; \ncase 'empty':\n        return{shoppingCart:[], totalPrice:0, qty:0}\n        break; \n\ndefault: return state\n\n}\n}"],"mappings":"AAAA,SAASA,GAAG,QAAQ,sBAAsB;AAE1C,OAAO,MAAMC,WAAW,GAAC,CAACC,KAAK,EAAEC,MAAM,KAAG;EACzC,MAAM;IAACC,YAAY;IAAEC,UAAU;IAAEC;EAAG,CAAC,GAAGJ,KAAK;EAC7C,IAAIK,OAAO;EACX,IAAIC,KAAK;EACT,IAAIC,YAAY;EAChB,IAAIC,UAAU;EAEf,QAAOP,MAAM,CAACQ,IAAI;IAElB,KAAK,aAAa;MACV;MACA,MAAMC,KAAK,GAAER,YAAY,CAACS,IAAI,CAACN,OAAO,IAAGA,OAAO,CAACO,EAAE,KAAKX,MAAM,CAACW,EAAE,CAAC;MAClE,IAAGF,KAAK,EAAC;QACL,OAAOV,KAAK;MAChB,CAAC,MAED;QACMK,OAAO,GAAGJ,MAAM,CAACI,OAAO;QACxBA,OAAO,CAAC,KAAK,CAAC,GAAC,CAAC;QAChBG,UAAU,GAAEJ,GAAG,GAAC,CAAC;QACjBG,YAAY,GAAEJ,UAAU,GAACE,OAAO,CAACQ,KAAK;QACtC,OAAM;UAACX,YAAY,EAAC,CAACG,OAAO,EAAE,GAAGH,YAAY,CAAC;UAAEC,UAAU,EAAEI,YAAY;UAAEH,GAAG,EAAEI;QAAU,CAAC;MAChG;MACR;IACA,KAAK,KAAK;MACJH,OAAO,GAACJ,MAAM,CAACa,IAAI;MACnBT,OAAO,CAACD,GAAG,GAAEC,OAAO,CAACD,GAAG,GAAG,CAAC,CAAC,CAAC;MAC9BG,YAAY,GAAEJ,UAAU,GAAGE,OAAO,CAACQ,KAAK;MACxCL,UAAU,GAAEJ,GAAG,GAAE,CAAC;MAClBE,KAAK,GAACJ,YAAY,CAACa,SAAS,CAACD,IAAI,IAAGA,IAAI,CAACF,EAAE,KAAGX,MAAM,CAACW,EAAE,CAAC;MACxDV,YAAY,CAACI,KAAK,CAAC,GAACD,OAAO;MAC3B,OAAM;QAACH,YAAY,EAAC,CAAC,GAAGA,YAAY,CAAC;QAAEC,UAAU,EAACI,YAAY;QAAEH,GAAG,EAACI;MAAU,CAAC;MAC/E;IAEN,KAAK,KAAK;MACFH,OAAO,GAACJ,MAAM,CAACa,IAAI;MACnB,IAAGT,OAAO,CAACD,GAAG,GAAG,CAAC,EAAC;QACfC,OAAO,CAACD,GAAG,GAAEC,OAAO,CAACD,GAAG,GAAG,CAAC;QAC5BG,YAAY,GAAEJ,UAAU,GAAGE,OAAO,CAACQ,KAAK;QACxCL,UAAU,GAAEJ,GAAG,GAAE,CAAC;QAClBE,KAAK,GAAEJ,YAAY,CAACa,SAAS,CAACD,IAAI,IAAGA,IAAI,CAACF,EAAE,KAAGX,MAAM,CAACW,EAAE,CAAC;QACzDV,YAAY,CAACI,KAAK,CAAC,GAACD,OAAO;QAC9B,OAAM;UAACH,YAAY,EAAC,CAAC,GAAGA,YAAY,CAAC;UAAEC,UAAU,EAACI,YAAY;UAAEH,GAAG,EAACI;QAAU,CAAC;MAChF,CAAC,MACG;QAAC,OAAOR,KAAK;MAAA;MACjB;IAER,KAAK,QAAQ;MACL,MAAMgB,QAAQ,GAAGd,YAAY,CAACe,MAAM,CAACZ,OAAO,IAAGA,OAAO,CAACO,EAAE,KAAGX,MAAM,CAACW,EAAE,CAAC;MACtEP,OAAO,GAAEJ,MAAM,CAACa,IAAI;MACpBN,UAAU,GAAEJ,GAAG,GAACC,OAAO,CAACD,GAAG;MAC3BG,YAAY,GAAEJ,UAAU,GAAEE,OAAO,CAACQ,KAAK,GAAER,OAAO,CAACD,GAAG;MACpD,OAAM;QAACF,YAAY,EAAC,CAAC,GAAGc,QAAQ,CAAC;QAAEb,UAAU,EAACI,YAAY;QAAEH,GAAG,EAACI;MAAU,CAAC;MAC3E;IACR,KAAK,OAAO;MACJ,OAAM;QAACN,YAAY,EAAC,EAAE;QAAEC,UAAU,EAAC,CAAC;QAAEC,GAAG,EAAC;MAAC,CAAC;MAC5C;IAER;MAAS,OAAOJ,KAAK;EAAA;AAGrB,CAAC;AAAA,KA7DYD,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module"}