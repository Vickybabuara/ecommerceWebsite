{"ast":null,"code":"import _toConsumableArray from\"E:/Project/ecommerce-react-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{act}from\"react-dom/test-utils\";export var CartReducer=function CartReducer(state,action){var shoppingCart=state.shoppingCart,totalPrice=state.totalPrice,qty=state.qty;var product;var index;var updatedPrice;var updatedQty;switch(action.type){case'ADD_TO_CART'://console.log(\"add to cart\");\nvar check=shoppingCart.find(function(product){return product.id===action.id;});if(check){return state;}else{product=action.product;product['qty']=1;updatedQty=qty+1;updatedPrice=totalPrice+product.price;return{shoppingCart:[product].concat(_toConsumableArray(shoppingCart)),totalPrice:updatedPrice,qty:updatedQty};}break;case'INC':product=action.cart;product.qty=product.qty+1;//\nupdatedPrice=totalPrice+product.price;updatedQty=qty+1;index=shoppingCart.findIndex(function(cart){return cart.id===action.id;});shoppingCart[index]=product;return{shoppingCart:_toConsumableArray(shoppingCart),totalPrice:updatedPrice,qty:updatedQty};break;case'DEC':product=action.cart;if(product.qty>1){product.qty=product.qty-1;updatedPrice=totalPrice-product.price;updatedQty=qty-1;index=shoppingCart.findIndex(function(cart){return cart.id===action.id;});shoppingCart[index]=product;return{shoppingCart:_toConsumableArray(shoppingCart),totalPrice:updatedPrice,qty:updatedQty};}else{return state;}break;case'DELETE':var filtered=shoppingCart.filter(function(product){return product.id!==action.id;});product=action.cart;updatedQty=qty-product.qty;updatedPrice=totalPrice-product.price*product.qty;return{shoppingCart:_toConsumableArray(filtered),totalPrice:updatedPrice,qty:updatedQty};break;case'empty':return{shoppingCart:[],totalPrice:0,qty:0};break;default:return state;}};","map":{"version":3,"names":["act","CartReducer","state","action","shoppingCart","totalPrice","qty","product","index","updatedPrice","updatedQty","type","check","find","id","price","cart","findIndex","filtered","filter"],"sources":["E:/Project/ecommerce-react-website/src/Global/CartReducer.js"],"sourcesContent":["import { act } from \"react-dom/test-utils\";\n\nexport const CartReducer=(state, action)=>{\n const {shoppingCart, totalPrice, qty} = state;\n let product;\n let index;\n let updatedPrice;\n let updatedQty;\n\nswitch(action.type)\n{\ncase 'ADD_TO_CART':\n        //console.log(\"add to cart\");\n        const check= shoppingCart.find(product =>product.id === action.id);\n        if(check){\n            return state;\n        } \n        else\n        {\n              product = action.product;\n              product['qty']=1;\n              updatedQty= qty+1;\n              updatedPrice= totalPrice+product.price;\n              return{shoppingCart:[product, ...shoppingCart], totalPrice: updatedPrice, qty: updatedQty}\n        }\nbreak;\ncase 'INC':\n      product=action.cart;\n      product.qty= product.qty + 1; //\n      updatedPrice= totalPrice + product.price;\n      updatedQty= qty+ 1;\n      index=shoppingCart.findIndex(cart=> cart.id===action.id);\n      shoppingCart[index]=product;\n      return{shoppingCart:[...shoppingCart], totalPrice:updatedPrice, qty:updatedQty}\n      break;\n\ncase 'DEC':\n        product=action.cart;\n        if(product.qty > 1){\n            product.qty= product.qty - 1;\n            updatedPrice= totalPrice - product.price;\n            updatedQty= qty- 1;\n            index= shoppingCart.findIndex(cart=> cart.id===action.id);\n            shoppingCart[index]=product;\n         return{shoppingCart:[...shoppingCart], totalPrice:updatedPrice, qty:updatedQty}\n        }\n        else{return state}\n        break;\n\ncase 'DELETE':\n        const filtered = shoppingCart.filter(product=> product.id!==action.id)\n        product= action.cart;\n        updatedQty= qty-product.qty;\n        updatedPrice= totalPrice- product.price* product.qty;\n        return{shoppingCart:[...filtered], totalPrice:updatedPrice, qty:updatedQty}\n        break; \ncase 'empty':\n        return{shoppingCart:[], totalPrice:0, qty:0}\n        break; \n\ndefault: return state\n\n}\n}"],"mappings":"iKAAA,OAASA,GAAG,KAAQ,sBAAsB,CAE1C,MAAO,IAAMC,YAAW,CAAC,QAAZA,YAAW,CAAEC,KAAK,CAAEC,MAAM,CAAG,CACzC,GAAOC,aAAY,CAAqBF,KAAK,CAAtCE,YAAY,CAAEC,UAAU,CAASH,KAAK,CAAxBG,UAAU,CAAEC,GAAG,CAAIJ,KAAK,CAAZI,GAAG,CACpC,GAAIC,QAAO,CACX,GAAIC,MAAK,CACT,GAAIC,aAAY,CAChB,GAAIC,WAAU,CAEf,OAAOP,MAAM,CAACQ,IAAI,EAElB,IAAK,aAAa,CACV;AACA,GAAMC,MAAK,CAAER,YAAY,CAACS,IAAI,CAAC,SAAAN,OAAO,QAAGA,QAAO,CAACO,EAAE,GAAKX,MAAM,CAACW,EAAE,GAAC,CAClE,GAAGF,KAAK,CAAC,CACL,MAAOV,MAAK,CAChB,CAAC,IAED,CACMK,OAAO,CAAGJ,MAAM,CAACI,OAAO,CACxBA,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAChBG,UAAU,CAAEJ,GAAG,CAAC,CAAC,CACjBG,YAAY,CAAEJ,UAAU,CAACE,OAAO,CAACQ,KAAK,CACtC,MAAM,CAACX,YAAY,EAAEG,OAAO,4BAAKH,YAAY,EAAC,CAAEC,UAAU,CAAEI,YAAY,CAAEH,GAAG,CAAEI,UAAU,CAAC,CAChG,CACR,MACA,IAAK,KAAK,CACJH,OAAO,CAACJ,MAAM,CAACa,IAAI,CACnBT,OAAO,CAACD,GAAG,CAAEC,OAAO,CAACD,GAAG,CAAG,CAAC,CAAE;AAC9BG,YAAY,CAAEJ,UAAU,CAAGE,OAAO,CAACQ,KAAK,CACxCL,UAAU,CAAEJ,GAAG,CAAE,CAAC,CAClBE,KAAK,CAACJ,YAAY,CAACa,SAAS,CAAC,SAAAD,IAAI,QAAGA,KAAI,CAACF,EAAE,GAAGX,MAAM,CAACW,EAAE,GAAC,CACxDV,YAAY,CAACI,KAAK,CAAC,CAACD,OAAO,CAC3B,MAAM,CAACH,YAAY,oBAAKA,YAAY,CAAC,CAAEC,UAAU,CAACI,YAAY,CAAEH,GAAG,CAACI,UAAU,CAAC,CAC/E,MAEN,IAAK,KAAK,CACFH,OAAO,CAACJ,MAAM,CAACa,IAAI,CACnB,GAAGT,OAAO,CAACD,GAAG,CAAG,CAAC,CAAC,CACfC,OAAO,CAACD,GAAG,CAAEC,OAAO,CAACD,GAAG,CAAG,CAAC,CAC5BG,YAAY,CAAEJ,UAAU,CAAGE,OAAO,CAACQ,KAAK,CACxCL,UAAU,CAAEJ,GAAG,CAAE,CAAC,CAClBE,KAAK,CAAEJ,YAAY,CAACa,SAAS,CAAC,SAAAD,IAAI,QAAGA,KAAI,CAACF,EAAE,GAAGX,MAAM,CAACW,EAAE,GAAC,CACzDV,YAAY,CAACI,KAAK,CAAC,CAACD,OAAO,CAC9B,MAAM,CAACH,YAAY,oBAAKA,YAAY,CAAC,CAAEC,UAAU,CAACI,YAAY,CAAEH,GAAG,CAACI,UAAU,CAAC,CAChF,CAAC,IACG,CAAC,MAAOR,MAAK,EACjB,MAER,IAAK,QAAQ,CACL,GAAMgB,SAAQ,CAAGd,YAAY,CAACe,MAAM,CAAC,SAAAZ,OAAO,QAAGA,QAAO,CAACO,EAAE,GAAGX,MAAM,CAACW,EAAE,GAAC,CACtEP,OAAO,CAAEJ,MAAM,CAACa,IAAI,CACpBN,UAAU,CAAEJ,GAAG,CAACC,OAAO,CAACD,GAAG,CAC3BG,YAAY,CAAEJ,UAAU,CAAEE,OAAO,CAACQ,KAAK,CAAER,OAAO,CAACD,GAAG,CACpD,MAAM,CAACF,YAAY,oBAAKc,QAAQ,CAAC,CAAEb,UAAU,CAACI,YAAY,CAAEH,GAAG,CAACI,UAAU,CAAC,CAC3E,MACR,IAAK,OAAO,CACJ,MAAM,CAACN,YAAY,CAAC,EAAE,CAAEC,UAAU,CAAC,CAAC,CAAEC,GAAG,CAAC,CAAC,CAAC,CAC5C,MAER,QAAS,MAAOJ,MAAK,EAGrB,CAAC"},"metadata":{},"sourceType":"module"}